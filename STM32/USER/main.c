#include <stdio.h>
#include <stdlib.h>
#include <math.h>

#include "sys.h"
#include "tim.h"
#include "usart.h"
#include "delay.h"
#include "gpio.h"

#include "IIC_OLED.h"
#include "matrixKey.h"


u8g2_t u8g2;
u8g2_menu_t u8g2_menu;
u8g2_chart_t chart;

float data[10];
float data_dis[LEN(data)];

u8g2_chart_t chart2;

float data2[100];
float data_dis2[LEN(data2)];

u8g2_chart_t chart3;

float data3[100];
float data_dis3[LEN(data2)];

uint16_t i;
int jd = 255;
uint8_t keys = 0;

char inStr[64];

const uint8_t bmp[] = {
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFC,0x7F,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF0,0xFF,0x01,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xFF,0xFF,0x01,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFC,0xFF,0x0F,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0xFF,0xFF,0x03,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,
0x1F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF0,0x0F,
0xF8,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,
0xFF,0xC0,0x7F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0xF8,0x01,0xE0,0x0F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x80,0x1F,0x00,0xFC,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x7C,0x00,0x80,0x1F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0xC0,0x0F,0x00,0xF0,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x3E,0x00,0x80,0x3F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0xE0,0x0F,0x00,0xE0,0x03,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x1F,0x00,0x00,0x3F,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x80,0x1F,0x00,0x00,0x00,0x00,0xFE,0xFF,0x0F,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xFF,0xFF,0x07,0x00,0x00,0x00,0xC0,0x0F,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0x07,0x00,0xC0,0x07,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x0F,0x00,0x00,0x3F,0x00,0x00,0x00,0x7E,
0x00,0x00,0x00,0x00,0xE0,0x39,0x00,0x00,0x00,0xFE,0xFF,0xFF,0xFF,0x07,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0xFF,0xFF,0x03,0x00,0x00,0xE0,
0x3C,0x00,0x00,0x00,0x00,0xF0,0x03,0x00,0x00,0xF0,0x07,0x00,0x80,0x0F,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x07,0x00,0x00,0x7E,0x00,0x00,
0x80,0xFF,0x01,0x00,0x00,0x00,0x70,0x30,0x00,0x00,0xE0,0xFF,0xFF,0xFF,0xFF,0xFF,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF8,0xFF,0xFF,0xFF,0xFF,0x3F,0x00,
0x00,0x20,0x30,0x00,0x00,0x00,0x00,0xFC,0x0F,0x00,0x00,0xF0,0x03,0x00,0x00,0x0F,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0x03,0x00,0x00,0x7E,
0x00,0x00,0xC0,0xFF,0x03,0x00,0x00,0x00,0x30,0x20,0x00,0x00,0xFE,0xFF,0x01,0x00,
0x00,0xFC,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xFF,0x01,0x00,0x00,0xFC,
0xFF,0x01,0x00,0x20,0x60,0x00,0x00,0x00,0x00,0xFE,0x1F,0x00,0x00,0xF0,0x03,0x00,
0x00,0x1E,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0x03,0x00,
0x00,0x7E,0x00,0x00,0xE0,0xE3,0x03,0x00,0x00,0x00,0x30,0x20,0x00,0xC0,0xFF,0x07,
0x00,0x00,0x00,0x00,0x7F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF0,0x07,0x00,0x00,
0x00,0x00,0xFF,0x1F,0x00,0x20,0x60,0x00,0x00,0x00,0x00,0x7F,0x3F,0x00,0x00,0xF0,
0x03,0x00,0x00,0x1E,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,
0x01,0x00,0x00,0x7E,0x00,0x00,0xE0,0xC1,0x07,0x00,0x00,0x00,0x30,0x30,0x00,0xF8,
0x7F,0x00,0x00,0x00,0x00,0x00,0xE0,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x3E,0x00,
0x00,0x00,0x00,0x00,0xF0,0x7F,0x00,0x60,0x60,0x00,0x00,0x00,0x00,0x0F,0x3C,0x00,
0x00,0xF0,0x03,0x00,0x00,0x1C,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0xE0,0x01,0x00,0x00,0x7E,0x00,0x00,0xF0,0x80,0x07,0x00,0x00,0x00,0x70,0x00,
0x00,0xFE,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x0F,0x00,0x00,0x00,0x00,0x00,0x80,
0x07,0x00,0x00,0x00,0x00,0x00,0x80,0xFF,0x03,0x00,0x70,0x00,0x00,0x00,0x00,0x07,
0x78,0x00,0x00,0xF0,0x03,0x00,0x00,0x3C,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0xE0,0x01,0x00,0x00,0x7E,0x00,0x00,0x70,0x00,0x07,0x00,0x00,0x00,
0xE0,0x00,0x80,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x38,0x00,0x00,0x00,0x00,
0x00,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF8,0x0F,0x00,0x38,0x00,0x00,0x00,
0x00,0x07,0x70,0x00,0x00,0xF0,0x03,0x00,0x00,0x3C,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0xE0,0x00,0x00,0x00,0x3E,0x00,0x00,0x70,0xC0,0x07,0x00,
0x00,0x00,0xC0,0x03,0xF0,0x1F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0x00,0x7C,
0x00,0xF8,0x01,0x18,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0x7F,0x00,0x1E,0x00,
0x00,0x00,0x00,0x0F,0x70,0x00,0x00,0xF0,0x03,0x00,0x00,0x3C,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0x00,0x0C,0x00,0x3E,0x00,0x00,0x70,0xE0,
0x03,0x00,0x00,0x00,0x80,0xFF,0xFF,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x03,0xFF,0x01,0xFC,0x07,0x06,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,
0x0F,0x00,0x00,0x00,0x00,0x3E,0x78,0x00,0x00,0xE0,0x03,0xC0,0x01,0x38,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0x00,0x1C,0x00,0x3F,0x00,0x00,
0xF0,0xC0,0x01,0x00,0x00,0x00,0x00,0xFE,0xFF,0x00,0x00,0x00,0xFF,0xFF,0x7F,0x00,
0x00,0x00,0x8C,0xCF,0x03,0xDE,0x87,0x01,0x00,0x00,0xF0,0xFF,0xFF,0x07,0x00,0x00,
0xF8,0xFF,0x01,0x00,0x00,0x00,0x00,0x1C,0x78,0x00,0x00,0xE0,0x07,0xE0,0x01,0x3C,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0x01,0x7C,0x80,0x1F,
0x00,0x00,0xE0,0x01,0x00,0x00,0x00,0x00,0x00,0xF8,0x3F,0x00,0x00,0xFE,0xFF,0xFF,
0xFF,0x1F,0x00,0x00,0x90,0x03,0x03,0x07,0x4E,0x00,0x00,0xC0,0xFF,0xFF,0xFF,0xFF,
0x01,0x00,0xE0,0x7F,0x00,0x00,0x00,0x00,0x00,0x00,0x3C,0x00,0x00,0xC0,0x07,0xF0,
0x01,0x3C,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0x01,0xF8,
0xC1,0x0F,0x00,0x00,0xE0,0x03,0x00,0x00,0x00,0x00,0x00,0xFE,0x0F,0x00,0xE0,0xFF,
0xFF,0xFF,0xFF,0xFF,0x03,0x00,0xE0,0x01,0x06,0x03,0x1E,0x00,0x00,0xFE,0xFF,0xFF,
0xFF,0xFF,0x1F,0x00,0x80,0xFF,0x01,0x00,0x00,0x00,0x00,0x00,0x3E,0x00,0x00,0xC0,
0x1F,0xFC,0x00,0x3C,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFE,0x03,0x00,0x00,0xE0,
0x01,0xF0,0xFF,0x07,0x00,0x00,0xC0,0x07,0x00,0x00,0x00,0x00,0xC0,0xFF,0x01,0x00,
0xFC,0xFF,0xFF,0x3F,0x00,0xF0,0x1F,0x00,0xC0,0x03,0x06,0x03,0x0E,0x00,0xC0,0x3F,
0x00,0xE0,0xFF,0xFF,0xFF,0x01,0x00,0xFC,0x1F,0x00,0x00,0x00,0x00,0x00,0x1F,0x00,
0x00,0x80,0xFF,0x7F,0x00,0x1C,0x00,0x00,0x00,0xFE,0x03,0x00,0x80,0xFF,0x0F,0x00,
0x00,0xC0,0x01,0xE0,0xFF,0x03,0x00,0x00,0x80,0x0F,0x00,0x00,0x00,0x00,0xF8,0x7F,
0x00,0x80,0xFF,0xCF,0xFF,0x00,0x00,0x00,0xFE,0x00,0x80,0x03,0x06,0x01,0x0E,0x00,
0xF8,0x01,0x00,0x00,0xF8,0x9F,0xFF,0x0F,0x00,0xE0,0xFF,0x00,0x00,0x00,0x00,0x80,
0x0F,0x00,0x00,0x00,0xFE,0x3F,0x00,0x1C,0x00,0x00,0x80,0xFF,0x0F,0x00,0xE0,0xFF,
0x3F,0x00,0x00,0xC0,0x03,0xC0,0xFF,0x00,0x00,0x00,0x00,0x3F,0x00,0x00,0x00,0x80,
0xFF,0x0F,0x00,0xF0,0x7F,0xE0,0x0F,0x00,0x00,0x00,0xE0,0x07,0x00,0x03,0x06,0x03,
0x06,0x00,0x1F,0x00,0x00,0x00,0x80,0x3F,0xF8,0x7F,0x00,0x80,0xFF,0x0F,0x00,0x00,
0x00,0xE0,0x07,0x00,0x00,0x00,0xFC,0x0F,0x00,0x1E,0x00,0x00,0xE0,0xFF,0x3F,0x00,
0xF0,0xFF,0x7F,0x00,0x00,0xC0,0x03,0x00,0x1E,0x00,0x00,0x00,0x00,0xFE,0x00,0x00,
0x00,0xFC,0xFF,0x01,0x00,0xFC,0x0F,0xF8,0x01,0x00,0x00,0x00,0x00,0x3E,0x00,0x07,
0x03,0x06,0x07,0xE0,0x03,0x00,0x00,0x00,0x00,0xFC,0xC0,0xFF,0x01,0x00,0xFC,0xFF,
0x01,0x00,0x00,0xF8,0x03,0x00,0x00,0x00,0xE0,0x03,0x00,0x1E,0x00,0x00,0xF0,0xFF,
0x7F,0x00,0xF8,0xFF,0xFF,0x00,0x00,0x80,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0xFC,
0x1F,0x00,0xFF,0xFF,0x3F,0x00,0x00,0xFF,0x01,0x7E,0x00,0x00,0x00,0x00,0x00,0xF0,
0x00,0x06,0x00,0x00,0x03,0x3C,0x00,0x00,0x00,0x00,0x00,0xF0,0x03,0xFE,0x07,0x00,
0xE0,0xFF,0xFF,0x07,0xE0,0xFF,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x0E,0x00,0x00,
0xF8,0xFF,0xFF,0x00,0xFC,0x0F,0xFC,0x00,0x00,0x80,0x07,0x00,0x00,0x00,0x00,0x00,
0x00,0xF0,0xFF,0xFF,0xFF,0xFF,0x03,0x00,0xE0,0x7F,0x00,0x1F,0x00,0x00,0x00,0x00,
0x00,0x00,0x07,0x0E,0x00,0x80,0x81,0x07,0x00,0x00,0x00,0x00,0x00,0xC0,0x07,0xF0,
0x3F,0x00,0x00,0xFE,0xFF,0xFF,0xFF,0x7F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0F,
0x00,0x00,0xF8,0x81,0xFF,0x01,0xFC,0x03,0xF8,0x01,0x00,0x80,0x07,0x00,0x00,0x00,
0x00,0x00,0x00,0xC0,0xFF,0xFF,0xFF,0x1F,0x00,0x00,0xF8,0x0F,0x80,0x07,0x00,0x00,
0x00,0x00,0x00,0x00,0x38,0x1C,0x00,0xC0,0xE1,0x00,0x00,0x00,0x00,0x00,0x00,0x80,
0x0F,0xC0,0xFF,0x00,0x00,0xC0,0xFF,0xFF,0xFF,0x1F,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x07,0x00,0x00,0xFC,0x00,0xFF,0x01,0xFE,0x03,0xF0,0x01,0x00,0x00,0x0F,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0xFE,0xFF,0x7F,0x00,0x00,0x00,0xFE,0x03,0xC0,0x03,
0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0x38,0x00,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x1E,0x00,0xFE,0x03,0x00,0x00,0xF8,0xFF,0xFF,0x01,0x00,0x00,0x00,0x00,
0x00,0x00,0x80,0x07,0x00,0x00,0x7C,0x00,0xFE,0x03,0xFE,0x01,0xE0,0x01,0x00,0x00,
0x0F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0xFF,0x00,
0xE0,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x33,0x00,0x70,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x1C,0x00,0xF8,0x1F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0xC0,0x03,0x00,0x00,0x3E,0x00,0xFC,0x03,0xFF,0x00,0xE0,0x01,
0x00,0x00,0x1E,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF0,
0x1F,0x00,0xE0,0xE1,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0x00,0x38,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x38,0x3C,0x00,0xE0,0x7F,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0x03,0x00,0x00,0x3E,0x00,0xF8,0x03,0xFF,0x00,
0xE0,0x01,0x00,0x00,0x3C,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0xFE,0x07,0x00,0xE0,0xE0,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0x01,0x0C,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3E,0x38,0x00,0x00,0xFF,0x03,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0x01,0x00,0x00,0x3E,0x00,0xF8,0x07,
0x7F,0x00,0xE0,0x01,0x00,0x00,0x7C,0x00,0x00,0xFC,0xFF,0xFF,0x0F,0x00,0x00,0x00,
0x00,0x00,0xC0,0xFF,0x01,0x00,0xE0,0x00,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x03,0x06,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x06,0x38,0x00,0x00,0xFC,0x0F,0x00,
0x00,0x00,0x00,0x00,0xC0,0xFF,0xFF,0xFF,0x01,0x00,0xF0,0x01,0x00,0x00,0x3C,0x00,
0xF0,0x07,0x7F,0x00,0xE0,0x01,0x00,0x00,0xF8,0x00,0xE0,0xFF,0xFF,0xFF,0xFF,0x07,
0x00,0x00,0x00,0x00,0xF0,0x3F,0x00,0x00,0xE0,0x00,0x06,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x38,0x00,0x00,0xE0,
0x7F,0x00,0x00,0x00,0x00,0x80,0xFF,0xFF,0xFF,0xFF,0x1F,0x00,0xF8,0x00,0x00,0x00,
0x3C,0x00,0xF0,0x07,0x7F,0x00,0xF0,0x00,0x00,0x00,0xF0,0x01,0xFC,0xFF,0xFF,0xFF,
0xFF,0xFF,0x07,0x00,0x00,0x80,0xFF,0x0F,0x00,0x00,0xE0,0x00,0x07,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x38,0x00,
0x00,0x80,0xFF,0x0F,0x00,0x00,0x80,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x01,0x7C,0x00,
0x00,0x00,0x78,0x00,0xF0,0x07,0x7F,0x00,0xFC,0x00,0x00,0x00,0xE0,0x83,0xFF,0x1F,
0x00,0x00,0x00,0xFF,0xFF,0xFF,0xE0,0xFF,0xFF,0x01,0x00,0x00,0xE0,0x01,0x07,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x07,
0x3C,0x00,0x00,0x00,0xFC,0xFF,0xFF,0xFE,0xFF,0xFF,0x07,0x00,0x00,0xC0,0xFF,0x0F,
0x3E,0x00,0x00,0x00,0xF8,0x01,0xF0,0x07,0x7F,0x00,0x7E,0x00,0x00,0x00,0xC0,0xFF,
0xFF,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0xFF,0xFF,0x3F,0x00,0x00,0x00,0xC0,0xE7,
0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x3E,0x1F,0x00,0x00,0x00,0xE0,0xFF,0xFF,0xFF,0xFF,0x03,0x00,0x00,0x00,0x00,
0xF8,0xFF,0x1F,0x00,0x00,0x00,0xF0,0x03,0xF0,0x03,0xFE,0x00,0x18,0x00,0x00,0x00,
0x80,0xFF,0x0F,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0xE3,0xFF,0x07,0x00,0x00,0x00,
0x80,0xFF,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0xFC,0x0F,0x00,0x00,0x00,0x00,0xFF,0x3F,0x1C,0x00,0x00,0x00,0x00,
0x00,0x00,0x80,0xFF,0x0F,0x00,0x00,0x00,0xC0,0x00,0xF8,0x03,0xFE,0x00,0x00,0x00,
0x00,0x00,0x80,0xFF,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF0,0xFF,0x01,0x00,
0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0xF8,0x07,0x00,0x00,0x00,0x00,0xFC,0x7F,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0xFC,0x0F,0x00,0x00,0x00,0x00,0x00,0xF8,0x03,0xFE,0x01,
0x00,0x00,0x00,0x00,0xF0,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xFF,0x3F,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0xFF,0x0F,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFC,0x3F,0x00,0x00,0x00,0x00,0x00,0xFC,0x01,
0xFC,0x03,0x00,0x00,0x00,0x00,0xFC,0xFF,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0xFC,
0xFF,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0xFE,0xFF,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0xFE,0xFF,0x01,0x00,0x00,0x00,0x00,
0xFF,0x01,0xF8,0x0F,0x00,0x00,0x00,0x80,0xFF,0xE1,0x0F,0x00,0x00,0x00,0x00,0x00,
0xE0,0xFF,0x3F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0xF0,0xFF,0x3F,0x00,0x00,0x00,0x00,0x00,0x80,0x3F,0xFC,0x0F,0x00,0x00,
0x00,0x80,0xFF,0x00,0xF8,0x3F,0x00,0x00,0x00,0xF8,0x7F,0xC0,0x7F,0x00,0x00,0x00,
0x00,0x80,0xFF,0xFF,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x1F,0x00,0x00,0x00,0x00,0xF8,0x0F,0xF0,0xFF,
0x00,0x00,0x00,0xF0,0x7F,0x00,0xF0,0xFF,0x01,0x00,0xC0,0xFF,0x0F,0x00,0xFF,0x0F,
0x00,0x00,0x80,0xFF,0xFF,0x1F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0xFF,0xFF,0x0F,0x00,0x00,0x80,0xFF,0x07,
0x80,0xFF,0x0F,0x00,0x00,0xFC,0x3F,0x00,0xE0,0xFF,0x1F,0x00,0xFF,0xFF,0x01,0x00,
0xFC,0xFF,0x03,0xC0,0xFF,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFC,0xFF,0xFF,0x1F,0x00,0xFF,
0xFF,0x01,0x00,0xFC,0xFF,0x03,0xC0,0xFF,0x1F,0x00,0x80,0xFF,0xFF,0xFF,0xFF,0x3F,
0x00,0x00,0xE0,0xFF,0xFF,0xFF,0xFF,0xFF,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0xFF,
0xFF,0xFF,0x3F,0x00,0x00,0xE0,0xFF,0xFF,0xFF,0xFF,0x0F,0x00,0x00,0xFF,0xFF,0xFF,
0xFF,0x03,0x00,0x00,0x00,0xFE,0xFF,0xFF,0xFF,0x0F,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xC0,
0xFF,0xFF,0xFF,0xFF,0x03,0x00,0x00,0x00,0xFE,0xFF,0xFF,0xFF,0x03,0x00,0x00,0xF8,
0xFF,0xFF,0x1F,0x00,0x00,0x00,0x00,0xC0,0xFF,0xFF,0x1F,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0xC0,0xFF,0xFF,0x1F,0x00,0x00,0x00,0x00,0xC0,0xFF,0xFF,0xFF,0x00,0x00,
0x00,0xC0,0xFF,0x0F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xFF,0x1F,
0x00,0x00,0x00,0x00,0xC0,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x0E,0x00,0x00,0x00,0x00,0x00,0xC0,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x1C,0x00,0x00,0x00,0x00,0x00,0xC0,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x1C,0x00,0x00,0x00,0x00,0x00,0xC0,0x78,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0xF0,0x1C,0x00,0x00,0x00,0x00,0x00,0xC0,0xFC,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF8,0x1C,0x00,0x00,0x00,0x00,0x00,0xC0,0x81,
0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0C,0x1C,0x00,0x00,0x00,0x00,0x00,
0xC0,0x81,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0C,0x1C,0x00,0x00,0x00,
0x00,0x00,0xC0,0xC3,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1C,0x0E,0x00,
0x00,0x00,0x00,0x00,0x80,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF8,
0x0F,0x00,0x00,0x00,0x00,0x00,0x00,0x7F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0xF0,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x1C,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0xE0,0x01,0x00,0x00,0x00,/*"C:\Users\16414\Pictures\素材\水平花纹素材1.bmp",0*/
};

void menuItem_2(void);
void menuItem_1()
{
	u8g2_MenuItem_menu(menuItem_2);
	u8g2_MenuDrawItemLineChart(&chart,50,0,0);
	u8g2_MenuDrawItemPointChart(&chart2,40,1,-1);
	u8g2_MenuDrawItemLineChart(&chart3,40,1,-1);
	
	u8g2_MenuItem_str(inStr,sizeof(inStr));
	u8g2_MenuDrawPassword(inStr,'*');
	u8g2_MenuPrintf(u8g2_MenuDrawStr,"s:%s",inStr);
	
	u8g2_MenuDrawItemProgressBar_bind(&jd,25,5,255);
	u8g2_SetContrast(&u8g2,jd);



	u8g2_MenuPrintf(u8g2_MenuDrawStr,"123456789123456789123456789");
	u8g2_MenuPrintf(u8g2_MenuDrawStr,"%d",sizeof(u8g2_menu));
	
	u8g2_MenuItemValue_uint16(&i,1,0,100);
	u8g2_MenuPrintf(u8g2_MenuDrawStr,"%d",i);
	u8g2_MenuDrawItemXBM(523,60,bmp);
}
uint8_t sw = 1;
void menuItem_2()
{
	u8g2_MenuItem_menu(menuItem_1);
	u8g2_MenuPrintf(u8g2_MenuDrawStr,"Hello2");

	u8g2_MenuItemValue_switch(&sw,0);
	u8g2_MenuPrintf(u8g2_MenuDrawStr,"Hello %d",sw);
	u8g2_MenuPrintf(u8g2_MenuDrawStrX2,"Hello2");
	u8g2_MenuPrintf(u8g2_MenuDrawStr,"Hello2");
	u8g2_MenuPrintf(u8g2_MenuDrawStr,"Hello2");
}


void oled_display(u8g2_t * u8g2)
{
	u8g2_DrawMenu(&u8g2_menu,0,0,128,64);
}

void keyScann(void)
{
	static uint8_t	keyLog[4]	= {0};
	uint8_t	key[4];
	
	key[0] = KEY_1;
	key[1] = KEY_2;
	key[2] = KEY_3;
	
	if(key[0] == 0 && keyLog[0] != 0)
	{
		u8g2_MenuKeys(&u8g2_menu,MENU_Key_Up);
	}
	if(key[1] == 0 && keyLog[1] != 0)
	{
		u8g2_MenuKeys(&u8g2_menu,MENU_Key_Down);
	}
	if(key[2] == 0 && keyLog[2] != 0)
	{
		u8g2_MenuKeys(&u8g2_menu,MENU_Key_Enter);
	}
	
	keyLog[0] = key[0];
	keyLog[1] = key[1];
	keyLog[2] = key[2];
}

float k = 0;
void tim2_IRQ(void)
{
	keys = get_current_key_value(&matrixKey);
	u8g2_MenuInChar(&u8g2_menu, keys);

	keyScann();
}

int main(void)
{
	delay_init();
	gpio_init();
	
	oled_u8g2_init(&u8g2);
	u8g2_CreateMenu(&u8g2,&u8g2_menu,menuItem_1);
	u8g2_chart_init(&chart,data,data_dis,LEN(data));
	u8g2_chart_init(&chart2,data2,data_dis2,LEN(data2));
	u8g2_chart_init(&chart3,data3,data_dis3,LEN(data3));
	u8g2_SetFont(&u8g2,u8g2_font_10x20_tf);
	// u8g2_SetFont(&u8g2,u8g2_font_8x13_mf);
	
	matrixKey_init_def();   							// 矩阵键盘初始化
	tim2_init(1000-1,72-1);
	while(1)
	{
		u8g2_chart_addData(&chart,sin(k));
		u8g2_chart_addData(&chart2,cos(k));
		u8g2_chart_addData(&chart3,tan(k));
		k += 0.08;
		u8g2_ClearBuffer(&u8g2);
		oled_display(&u8g2);
		u8g2_SendBuffer(&u8g2);
		// LED;

		LED = sw;
	}
}
